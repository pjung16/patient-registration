(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(54),s=n.n(r),i=(n(144),n.p,n(145),n(58)),l=n(17),o=n(228),j=n(222),d=n(56),x=n.n(d),b=n(75),u=n(3),h=n(50),m=n(8),p=n(230),O=n(231),f=n(220),g=n(223),y=n(218),v=n(163),N=n(209),w=n(224),D=n(217),C=n(229),_=n(120),A=n.n(_),k=n(49),B=n.n(k),F=n(1);function P(){var e=Object(a.useState)({name:null,dob:null,phone_num:null,email:null,address:null,photo_url:null,appt_time:null}),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(m.a)(r,2),i=s[0],l=s[1],d=Object(a.useState)(null),_=Object(m.a)(d,2),k=_[0],P=_[1],S=Object(a.useState)(!1),M=Object(m.a)(S,2),I=M[0],R=M[1],T=function(e,t){c(Object(h.a)(Object(h.a)({},n),{},Object(u.a)({},e,t)))},E=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},q=function(){var e=Object(b.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files[0]){e.next=7;break}return e.next=3,E(t.target.files[0]);case 3:a=e.sent,c(Object(h.a)(Object(h.a)({},n),{},{photo_url:a})),e.next=8;break;case 7:c(Object(h.a)(Object(h.a)({},n),{},{photo_url:null}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(b.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),Object.entries(n).every((function(e){var t=Object(m.a)(e,2);t[0];return t[1]}))){e.next=5;break}return P("Please fill in all the fields before submitting!"),R(!1),e.abrupt("return");case 5:return e.next=7,fetch("/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 7:return t=e.sent,e.next=10,t.json();case 10:(null===(a=e.sent)||void 0===a?void 0:a.error)&&k?P(a.error):(l(!0),c({name:null,dob:null,phone_num:null,email:null,address:null,photo_url:null,appt_time:null}),P(null)),R(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsx)(o.a,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:Object(F.jsx)(C.a,{elevation:2,sx:{padding:"15px 50px",maxWidth:"500px",width:"100%",marginBottom:"50px"},children:Object(F.jsxs)(o.a,{component:"form",sx:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(F.jsx)("h2",{children:"Register"}),i?Object(F.jsxs)(o.a,{children:[Object(F.jsx)("h3",{children:"Thank you for submitting a form!"}),Object(F.jsx)(j.a,{variant:"contained",onClick:function(){return l(!1)},sx:{marginBottom:"35px"},children:"Submit another form"})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(p.a,{children:[Object(F.jsx)(f.a,{htmlFor:"name-outlined",children:"Name"}),Object(F.jsx)(g.a,{id:"name-outlined",onChange:function(e){return T("name",e.target.value)},required:!0,label:"Name",sx:{marginBottom:"25px"}})]}),Object(F.jsx)(p.a,{sx:{marginBottom:"25px"},children:Object(F.jsx)(v.b,{dateAdapter:N.a,children:Object(F.jsx)(w.a,{label:"Date of Birth",inputFormat:"MM/DD/yyyy",value:n.dob||null,onChange:function(e){return T("dob",B.a.utc(e).format())},renderInput:function(e){return Object(F.jsx)(y.a,Object(h.a)({},e))}})})}),Object(F.jsxs)(p.a,{children:[Object(F.jsx)(f.a,{htmlFor:"phonenum-outlined",children:"Phone Number"}),Object(F.jsx)(g.a,{id:"phonenum-outlined",onChange:function(e){return T("phone_num",e.target.value)},required:!0,label:"Phone Number",sx:{marginBottom:"25px"}})]}),Object(F.jsxs)(p.a,{children:[Object(F.jsx)(f.a,{htmlFor:"email-outlined",children:"Email"}),Object(F.jsx)(g.a,{id:"email-outlined",onChange:function(e){return T("email",e.target.value)},required:!0,label:"Email",sx:{marginBottom:"25px"}})]}),Object(F.jsxs)(p.a,{children:[Object(F.jsx)(f.a,{htmlFor:"address-outlined",children:"Address"}),Object(F.jsx)(g.a,{id:"address-outlined",onChange:function(e){return T("address",e.target.value)},required:!0,label:"Address",sx:{marginBottom:"25px"}})]}),Object(F.jsxs)(p.a,{sx:{marginBottom:"25px",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(F.jsx)(o.a,{sx:{marginBottom:"5px",fontSize:"14px",color:"rgba(0, 0, 0, 0.6)"},children:"Photo ID"}),Object(F.jsx)(O.a,{accept:"image/*",style:{display:"none"},id:"contained-button-file",onChange:q,type:"file"}),Object(F.jsxs)("label",{htmlFor:"contained-button-file",style:{display:"flex",alignItems:"center"},children:[Object(F.jsx)(j.a,{variant:"contained",component:"span",sx:{marginRight:"5px"},children:"".concat(n.photo_url?"Change Photo":"Upload")}),n.photo_url?Object(F.jsx)(A.a,{sx:{color:"green"}}):null]})]}),Object(F.jsx)(p.a,{children:Object(F.jsx)(v.b,{dateAdapter:N.a,children:Object(F.jsx)(D.a,{label:"Appointment Time",value:n.appt_time||null,onChange:function(e){return T("appt_time",B.a.utc(e).format())},renderInput:function(e){return Object(F.jsx)(y.a,Object(h.a)({},e))}})})}),k?Object(F.jsx)(o.a,{sx:{color:"red"},children:Object(F.jsx)("h3",{children:k})}):null,Object(F.jsx)(j.a,{variant:"contained",onClick:H,disabled:!!I,sx:{margin:"25px 0"},children:"Submit"})]})]})})})}n(158);var S=n(225);function M(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(Object(b.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/submissions");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.submissions);case 7:case"end":return e.stop()}}),e)}))),[]),Object(F.jsxs)(o.a,{sx:{padding:"15px 100px","@media screen and (max-width: 600px)":{padding:"15px 25px"}},children:[Object(F.jsx)("h2",{children:"Admin"}),Object(F.jsx)(S.a,{container:!0,spacing:2,children:n.map((function(e){var t=B()(e.dob),n=B()(e.appt_time);return Object(F.jsx)(S.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(F.jsx)(C.a,{elevation:2,children:Object(F.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",backgroundColor:"white",borderRadius:"4px",textAlign:"left"},children:[Object(F.jsx)(o.a,{className:"card-image",children:Object(F.jsx)("img",{src:e.photo_url})}),Object(F.jsxs)(o.a,{sx:{padding:"15px"},children:[Object(F.jsx)(o.a,{className:"name",children:e.name}),Object(F.jsxs)(o.a,{sx:{display:"flex",justifyContent:"flex-start",width:"100%"},children:[Object(F.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",marginRight:"20px"},children:[Object(F.jsx)(o.a,{className:"label",children:"Age"}),Object(F.jsx)(o.a,{className:"content",children:B()().diff(t,"years")})]}),Object(F.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(F.jsx)(o.a,{className:"label",children:"Date of Birth"}),Object(F.jsx)(o.a,{className:"content",children:t.format("MMMM DD yyyy")})]})]}),Object(F.jsx)(o.a,{className:"label",children:"Appointment Date & Time"}),Object(F.jsx)(o.a,{className:"content",children:n.format("MMMM DD yyyy | HH:mm")}),Object(F.jsx)(o.a,{className:"label",children:"Address"}),Object(F.jsx)(o.a,{className:"content",children:e.address}),Object(F.jsx)(o.a,{className:"label",children:"Phone Number"}),Object(F.jsx)(o.a,{className:"content",children:e.phone_num}),Object(F.jsx)(o.a,{className:"label",children:"Email Address"}),Object(F.jsx)(o.a,{className:"content",children:e.email})]})]})})},e.dob)}))})]})}var I=function(){return Object(F.jsx)(i.a,{children:Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)("nav",{children:Object(F.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"25px 50px 0 50px","@media screen and (max-width: 600px)":{padding:"15px",flexDirection:"column"}},children:[Object(F.jsx)(o.a,{children:Object(F.jsx)(i.b,{to:"/",children:Object(F.jsx)("h2",{children:"Patient Registration"})})}),Object(F.jsxs)(o.a,{children:[Object(F.jsx)(i.b,{to:"/",children:Object(F.jsx)(j.a,{sx:{textDecoration:"none"},children:"Home"})}),Object(F.jsx)(i.b,{to:"/register",children:Object(F.jsx)(j.a,{children:"Register"})}),Object(F.jsx)(i.b,{to:"/admin",children:Object(F.jsx)(j.a,{children:"Admin"})})]})]})}),Object(F.jsxs)(l.c,{children:[Object(F.jsx)(l.a,{path:"/admin",element:Object(F.jsx)(M,{})}),Object(F.jsx)(l.a,{path:"/register",element:Object(F.jsx)(P,{})}),Object(F.jsx)(l.a,{path:"/",element:Object(F.jsx)("div",{children:Object(F.jsx)("header",{className:"App-header",children:Object(F.jsxs)("h2",{children:["Welcome to the patient registration website. Please register at the ",Object(F.jsx)(i.b,{to:"/register",children:"register link"}),". To see submissions, check the ",Object(F.jsx)(i.b,{to:"/admin",children:"admin page"}),"."]})})})})]})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,234)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(I,{})}),document.getElementById("root")),R()}},[[159,1,2]]]);
//# sourceMappingURL=main.7279e6aa.chunk.js.map