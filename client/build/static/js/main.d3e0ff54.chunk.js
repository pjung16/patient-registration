(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(54),s=n.n(r),i=(n(144),n.p,n(145),n(58)),l=n(17),o=n(228),j=n(222),d=n(56),x=n.n(d),b=n(75),u=n(3),h=n(43),m=n(8),O=n(230),p=n(231),f=n(220),g=n(223),y=n(218),v=n(163),D=n(209),N=n(224),w=n(217),C=n(229),_=n(120),A=n.n(_),M=n(50),k=n.n(M),B=n(1);function F(){var e=Object(a.useState)({name:null,dob:null,phone_num:null,email:null,address:null,photo_url:null,appt_time:null}),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(m.a)(r,2),i=s[0],l=s[1],d=Object(a.useState)(null),_=Object(m.a)(d,2),M=_[0],F=_[1],P=Object(a.useState)(!1),S=Object(m.a)(P,2),I=S[0],R=S[1],T=function(e,t){c(Object(h.a)(Object(h.a)({},n),{},Object(u.a)({},e,t))),console.log(Object(h.a)(Object(h.a)({},n),{},Object(u.a)({},e,t)))},E=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},H=function(){var e=Object(b.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.target.files[0]),!t.target.files[0]){e.next=8;break}return e.next=4,E(t.target.files[0]);case 4:a=e.sent,c(Object(h.a)(Object(h.a)({},n),{},{photo_url:a})),e.next=9;break;case 8:c(Object(h.a)(Object(h.a)({},n),{},{photo_url:null}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),Object.entries(n).every((function(e){var t=Object(m.a)(e,2);t[0];return t[1]}))){e.next=5;break}return F("Please fill in all the fields before submitting!"),R(!1),e.abrupt("return");case 5:return e.next=7,fetch("/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 7:return t=e.sent,e.next=10,t.json();case 10:!(null===(a=e.sent)||void 0===a?void 0:a.error)&&M?(l(!0),c({name:null,dob:null,phone_num:null,email:null,address:null,photo_url:null,appt_time:null}),F(null)):F(a.error),R(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsx)(o.a,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:Object(B.jsx)(C.a,{elevation:2,sx:{padding:"15px 50px",maxWidth:"500px",width:"100%",marginBottom:"50px"},children:Object(B.jsxs)(o.a,{component:"form",sx:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(B.jsx)("h2",{children:"Register"}),i?Object(B.jsxs)(o.a,{children:[Object(B.jsx)("h3",{children:"Thank you for submitting a form!"}),Object(B.jsx)(j.a,{variant:"contained",onClick:function(){return l(!1)},sx:{marginBottom:"35px"},children:"Submit another form"})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(O.a,{children:[Object(B.jsx)(f.a,{htmlFor:"name-outlined",children:"Name"}),Object(B.jsx)(g.a,{id:"name-outlined",onChange:function(e){return T("name",e.target.value)},required:!0,label:"Name",sx:{marginBottom:"25px"}})]}),Object(B.jsx)(O.a,{sx:{marginBottom:"25px"},children:Object(B.jsx)(v.b,{dateAdapter:D.a,children:Object(B.jsx)(N.a,{label:"Date of Birth",inputFormat:"MM/DD/yyyy",value:n.dob||null,onChange:function(e){return T("dob",k()(e).format("MM/DD/yyyy"))},renderInput:function(e){return Object(B.jsx)(y.a,Object(h.a)({},e))}})})}),Object(B.jsxs)(O.a,{children:[Object(B.jsx)(f.a,{htmlFor:"phonenum-outlined",children:"Phone Number"}),Object(B.jsx)(g.a,{id:"phonenum-outlined",onChange:function(e){return T("phone_num",e.target.value)},required:!0,label:"Phone Number",sx:{marginBottom:"25px"}})]}),Object(B.jsxs)(O.a,{children:[Object(B.jsx)(f.a,{htmlFor:"email-outlined",children:"Email"}),Object(B.jsx)(g.a,{id:"email-outlined",onChange:function(e){return T("email",e.target.value)},required:!0,label:"Email",sx:{marginBottom:"25px"}})]}),Object(B.jsxs)(O.a,{children:[Object(B.jsx)(f.a,{htmlFor:"address-outlined",children:"Address"}),Object(B.jsx)(g.a,{id:"address-outlined",onChange:function(e){return T("address",e.target.value)},required:!0,label:"Address",sx:{marginBottom:"25px"}})]}),Object(B.jsxs)(O.a,{sx:{marginBottom:"25px",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(B.jsx)(o.a,{sx:{marginBottom:"5px",fontSize:"14px",color:"rgba(0, 0, 0, 0.6)"},children:"Photo ID"}),Object(B.jsx)(p.a,{accept:"image/*",style:{display:"none"},id:"contained-button-file",onChange:H,type:"file"}),Object(B.jsxs)("label",{htmlFor:"contained-button-file",style:{display:"flex",alignItems:"center"},children:[Object(B.jsx)(j.a,{variant:"contained",component:"span",sx:{marginRight:"5px"},children:"".concat(n.photo_url?"Change Photo":"Upload")}),n.photo_url?Object(B.jsx)(A.a,{sx:{color:"green"}}):null]})]}),Object(B.jsx)(O.a,{children:Object(B.jsx)(v.b,{dateAdapter:D.a,children:Object(B.jsx)(w.a,{label:"Appointment Time",value:n.appt_time||null,onChange:function(e){return T("appt_time",k()(e).format("MM/DD/yyyy HH:mm"))},renderInput:function(e){return Object(B.jsx)(y.a,Object(h.a)({},e))}})})}),M?Object(B.jsx)(o.a,{sx:{color:"red"},children:Object(B.jsx)("h3",{children:M})}):null,Object(B.jsx)(j.a,{variant:"contained",onClick:q,disabled:!!I,sx:{margin:"25px 0"},children:"Submit"})]})]})})})}n(158);var P=n(225);function S(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(Object(b.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/submissions");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.submissions);case 7:case"end":return e.stop()}}),e)}))),[]),Object(B.jsxs)(o.a,{sx:{padding:"15px 100px","@media screen and (max-width: 600px)":{padding:"15px 25px"}},children:[Object(B.jsx)("h2",{children:"Admin"}),Object(B.jsx)(P.a,{container:!0,spacing:2,children:n.map((function(e){var t=k()(e.dob),n=k()(e.appt_time);return Object(B.jsx)(P.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(B.jsx)(C.a,{elevation:2,children:Object(B.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",backgroundColor:"white",borderRadius:"4px",textAlign:"left"},children:[Object(B.jsx)(o.a,{className:"card-image",children:Object(B.jsx)("img",{src:e.photo_url})}),Object(B.jsxs)(o.a,{sx:{padding:"15px"},children:[Object(B.jsx)(o.a,{className:"name",children:e.name}),Object(B.jsxs)(o.a,{sx:{display:"flex",justifyContent:"flex-start",width:"100%"},children:[Object(B.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",marginRight:"20px"},children:[Object(B.jsx)(o.a,{className:"label",children:"Age"}),Object(B.jsx)(o.a,{className:"content",children:k()().diff(t,"years")})]}),Object(B.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(B.jsx)(o.a,{className:"label",children:"Date of Birth"}),Object(B.jsx)(o.a,{className:"content",children:t.format("MMMM DD yyyy")})]})]}),Object(B.jsx)(o.a,{className:"label",children:"Appointment Date & Time"}),Object(B.jsx)(o.a,{className:"content",children:n.format("MMMM DD yyyy | HH:mm")}),Object(B.jsx)(o.a,{className:"label",children:"Address"}),Object(B.jsx)(o.a,{className:"content",children:e.address}),Object(B.jsx)(o.a,{className:"label",children:"Phone Number"}),Object(B.jsx)(o.a,{className:"content",children:e.phone_num}),Object(B.jsx)(o.a,{className:"label",children:"Email Address"}),Object(B.jsx)(o.a,{className:"content",children:e.email})]})]})})},e.dob)}))})]})}var I=function(){return Object(B.jsx)(i.a,{children:Object(B.jsxs)("div",{className:"App",children:[Object(B.jsx)("nav",{children:Object(B.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"25px 50px 0 50px","@media screen and (max-width: 600px)":{padding:"15px",flexDirection:"column"}},children:[Object(B.jsx)(o.a,{children:Object(B.jsx)(i.b,{to:"/",children:Object(B.jsx)("h2",{children:"Patient Registration"})})}),Object(B.jsxs)(o.a,{children:[Object(B.jsx)(i.b,{to:"/",children:Object(B.jsx)(j.a,{sx:{textDecoration:"none"},children:"Home"})}),Object(B.jsx)(i.b,{to:"/register",children:Object(B.jsx)(j.a,{children:"Register"})}),Object(B.jsx)(i.b,{to:"/admin",children:Object(B.jsx)(j.a,{children:"Admin"})})]})]})}),Object(B.jsxs)(l.c,{children:[Object(B.jsx)(l.a,{path:"/admin",element:Object(B.jsx)(S,{})}),Object(B.jsx)(l.a,{path:"/register",element:Object(B.jsx)(F,{})}),Object(B.jsx)(l.a,{path:"/",element:Object(B.jsx)("div",{children:Object(B.jsx)("header",{className:"App-header",children:Object(B.jsxs)("h2",{children:["Welcome to the patient registration website. Please register at the ",Object(B.jsx)(i.b,{to:"/register",children:"register link"}),". To see submissions, check the ",Object(B.jsx)(i.b,{to:"/admin",children:"admin page"}),"."]})})})})]})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,234)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(I,{})}),document.getElementById("root")),R()}},[[159,1,2]]]);
//# sourceMappingURL=main.d3e0ff54.chunk.js.map